<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle de Cosecha</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script>
        function redirectToDetail() {
            const cosechaId = document.getElementById('cosecha_id').value;
            if (cosechaId) {
                window.location.href = `/detalle-cosecha/${cosechaId}/`;
            }
        }
    </script>
</head>
<body>
    <div class="container detalleC">
        <h1 class="detalleC-title">Detalle de Cosecha</h1>

        <!-- Formulario para seleccionar la cosecha -->
        <label for="cosecha_id" class="detalleC-label">Seleccione un ID de Cosecha:</label>
        <select name="cosecha_id" id="cosecha_id" class="detalleC-select" onchange="redirectToDetail()">
            <option value="">-- Seleccionar --</option>
            {% for id in cosecha_ids %}
                <option value="{{ id }}">{{ id }}</option>
            {% endfor %}
        </select>

        <!-- Detalles de la cosecha -->
        {% if id_cosecha %}
            <h2 class="detalleC-subtitle">Detalles de la Cosecha ID: {{ id_cosecha }}</h2>
            <table class="detalleC-table">
                <thead>
                    <tr>
                        <th>Campo</th>
                        <th>Valor</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ID de Cosecha</td>
                        <td>{{ id_cosecha }}</td>
                    </tr>
                    <tr>
                        <td>Producto</td>
                        <td>{{ producto }}</td>
                    </tr>
                    <tr>
                        <td>Fecha de Cosecha</td>
                        <td>{{ fecha_cosecha }}</td>
                    </tr>
                    <tr>
                        <td>Ubicación</td>
                        <td>{{ ubicacion }}</td>
                    </tr>
                    <tr>
                        <td>Cantidad del Lote</td>
                        <td>{{ cantidad_lote }}</td>
                    </tr>
                    <tr>
                        <td>Cantidad de Agua Usada</td>
                        <td>{{ cantidad_agua }}</td>
                    </tr>
                    <tr>
                        <td>Pesticidas y Fertilizantes</td>
                        <td>{{ pesticidas_fertilizantes }}</td>
                    </tr>
                    <tr>
                        <td>Prácticas de Cultivo</td>
                        <td>{{ practicas_cultivo }}</td>
                    </tr>
                    <tr>
                        <td>¿Transportada?</td>
                        <td>{{ transportada }}</td>
                    </tr>
                </tbody>
            </table>
        {% else %}
            <p class="detalleC-noresult">No se encontró la cosecha especificada.</p>
        {% endif %}

        <a href="{% url 'cosecha' %}" class="detalleC-backlink">Volver a Inicio</a>
    </div>
</body>
</html>




